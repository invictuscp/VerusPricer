/*
 * Name:jquery.mb.scrollable
 * Version: 1.5.7
 */
if (typeof jmodule != "object") jmodule={};
if (!jmodule["scrollable"]) 
{
jmodule["scrollable"]=1;
(function(b){b.mbScrollable={plugin:"mb.scroller",author:"MB",version:"1.5.7",defaults:{dir:"horizontal",width:950,elementsInPage:4,elementMargin:2,shadow:!1,height:"auto",controls:"#controls",slideTimer:600,autoscroll:!1,scrollTimer:6E3,changePageCallback:function(){},nextCallback:function(){},prevCallback:function(){}},buildMbScrollable:function(c){return this.each(function(){this.options={};b.extend(this.options,b.mbScrollable.defaults);b.extend(this.options,c);var a=this;a.isVertical="horizontal"!= a.options.dir;var d=b(a.options.controls);a.idx=1;a.scrollTo=0;a.elements=b(a).children();a.elements.addClass("scrollEl");d.hide();b(a).children().each(function(){b(this).wrap("<div class='SECont'></div>")});a.options.shadow&&(b(a.elements).css("-moz-box-shadow",a.options.shadow),b(a.elements).css("-webkit-box-shadow",a.options.shadow));a.elements=b(a).children();d=a.options.elementsInPage<this.elements.size()?a.options.elementsInPage:a.elements.size();a.isVertical?(a.singleElDim=a.options.height/ d-a.options.elementMargin,b(a.elements).css({marginBottom:a.options.elementMargin,height:a.singleElDim})):(a.singleElDim=a.options.width/d-a.options.elementMargin,b(a.elements).css({marginRight:a.options.elementMargin,display:"inline-block","float":"left"}));this.elementsDim=a.singleElDim*a.elements.size()+a.options.elementMargin*a.elements.size();a.totalPages=Math.ceil(a.elements.size()/a.options.elementsInPage);d=b.browser.safari&&2<a.options.elementsInPage?a.options.elementMargin/a.options.elementsInPage: 0;a.isVertical?b(a).css({overflow:"hidden",height:a.options.height-d,width:a.options.width,paddingRight:5,position:"relative"}):b(a).css({overflow:"hidden",width:a.options.width-d,height:a.options.height});d=b("<div class='scrollableStrip'/>").css({width:a.elementsDim,position:"relative"});b(a.elements).wrapAll(d);a.mbscrollableStrip=b(a).find(".scrollableStrip");b(a.elements).hover(function(){a.autoScrollActive&&b(a).mbStopAutoscroll()},function(){a.autoScrollActive&&b(a).mbAutoscroll()});a.options.autoscroll&& a.elements.size()>a.options.elementsInPage&&(a.autoScrollActive=!0,b(a).mbAutoscroll());b(a).mbPageIndex();b(a).mbActivateControls();setTimeout(function(){b(".scrollEl").fadeIn()},1E3);b(a).mbManageControls()})},mbNextPage:function(c){var a=b(this).get(0);c||(a.autoScrollActive=!1);a.idx==a.totalPages?b(a).mbManageControls():(a.options.nextCallback&&a.options.nextCallback(),a.scrollTo-=(a.singleElDim+a.options.elementMargin)*a.options.elementsInPage-(b.browser.safari&&2<a.options.elementsInPage?a.options.elementMargin/ a.options.elementsInPage:0),a.isVertical?(a.scrollTo<-a.elementsDim+a.options.height&&(a.scrollTo=-a.elementsDim+a.options.height),b(a.mbscrollableStrip).animate({marginTop:a.scrollTo},a.options.slideTimer)):(a.scrollTo<-a.elementsDim+a.options.width&&(a.scrollTo=-a.elementsDim+a.options.width),b(a.mbscrollableStrip).animate({marginLeft:a.scrollTo},a.options.slideTimer)),a.idx+=1,b(this).mbManageControls())},mbPrevPage:function(c){var a=b(this).get(0);c||(a.autoScrollActive=!1);1==a.idx?b(a).mbManageControls(): (a.options.prevCallback&&a.options.prevCallback(),a.scrollTo+=(a.singleElDim+a.options.elementMargin)*a.options.elementsInPage+(b.browser.safari&&2<a.options.elementsInPage?a.options.elementMargin/a.options.elementsInPage:0),a.isVertical?(0<=a.scrollTo&&(a.scrollTo=0),b(a.mbscrollableStrip).animate({marginTop:a.scrollTo},a.options.slideTimer)):(0<=a.scrollTo&&(a.scrollTo=0),b(a.mbscrollableStrip).animate({marginLeft:a.scrollTo},a.options.slideTimer)),--a.idx,b(this).mbManageControls())},mbFirstPage:function(){var c= b(this).get(0);c.autoScrollActive=!1;c.scrollTo=0;c.isVertical?b(c.mbscrollableStrip).animate({marginTop:c.scrollTo},c.options.slideTimer):b(c.mbscrollableStrip).animate({marginLeft:c.scrollTo},c.options.slideTimer);c.idx=1;b(this).mbManageControls();b(c).mbStopAutoscroll()},mbLastPage:function(){var c=b(this).get(0);c.autoScrollActive=!1;c.isVertical?(c.scrollTo=-c.elementsDim+c.options.height,b(c.mbscrollableStrip).animate({marginTop:c.scrollTo},c.options.slideTimer)):(c.scrollTo=-c.elementsDim+ c.options.width,b(c.mbscrollableStrip).animate({marginLeft:c.scrollTo},c.options.slideTimer));c.idx=c.totalPages;b(c).mbManageControls();b(c).mbStopAutoscroll()},mbPageIndex:function(){var c=b(this).get(0),a=b(c.options.controls).find(".pageIndex");if(a)for(var d=0,e=1;e<=c.totalPages;e++){d++;var f=b("<span class='page'> "+d+" </span>").bind("click",function(){var a=b(this).html();c.scrollTo=-((c.singleElDim+c.options.elementMargin)*c.options.elementsInPage*(a-1));c.isVertical?(c.scrollTo<-c.elementsDim+ c.options.height&&(c.scrollTo=-c.elementsDim+c.options.height),b(c.mbscrollableStrip).animate({marginTop:c.scrollTo},c.options.slideTimer)):(c.scrollTo<-c.elementsDim+c.options.width&&(c.scrollTo=-c.elementsDim+c.options.width),b(c.mbscrollableStrip).animate({marginLeft:c.scrollTo},c.options.slideTimer));c.idx=Math.floor(a);b(c).mbManageControls();b(c).mbStopAutoscroll();c.autoScrollActive=!1});a.append(f)}},mbAutoscroll:function(){var c="next",a=b(this).get(0);a.autoScrollActive=!0;if(!a.autoscroll){var d= a.options.scrollTimer+a.options.slideTimer;a.autoscroll=!0;a.auto=setInterval(function(){c=1==a.idx?"next":a.idx==a.totalPages?"prev":c;"next"==c?b(a).mbNextPage(!0):b(a).mbPrevPage(!0)},d);b(a).mbManageControls()}},mbStopAutoscroll:function(){var c=b(this).get(0);c.autoscroll=!1;clearInterval(c.auto);b(c).mbManageControls();c.options.changePageCallback&&c.options.changePageCallback()},mbActivateControls:function(){var c=b(this).get(0),a=b(c.options.controls);a.find(".first").bind("click",function(){b(c).mbFirstPage()}); a.find(".prev").bind("click",function(){b(c).mbStopAutoscroll();b(c).mbPrevPage()});a.find(".next").bind("click",function(){b(c).mbStopAutoscroll();b(c).mbNextPage()});a.find(".last").bind("click",function(){b(c).mbLastPage()});a.find(".start").bind("click",function(){b(c).mbAutoscroll()});a.find(".stop").bind("click",function(){b(c).mbStopAutoscroll();c.autoScrollActive=!1})},mbManageControls:function(){var c=b(this).get(0),a=b(c.options.controls);c.elements.size()<=c.options.elementsInPage?a.hide(): a.show();c.idx==c.totalPages?(a.find(".last").addClass("disabled"),a.find(".next").addClass("disabled")):(a.find(".last").removeClass("disabled"),a.find(".next").removeClass("disabled"));1==c.idx?(a.find(".first").addClass("disabled"),a.find(".prev").addClass("disabled")):(a.find(".first").removeClass("disabled"),a.find(".prev").removeClass("disabled"));c.autoscroll?(a.find(".start").addClass("sel"),a.find(".stop").removeClass("sel")):(a.find(".start").removeClass("sel"),a.find(".stop").addClass("sel")); a.find(".page").removeClass("sel");a.find(".page").eq(c.idx-1).addClass("sel");a.find(".idx").html(c.idx+" / "+c.totalPages)},goToPage:function(c,a){var d=b(this).get(0),e=a?0:d.options.slideTimer;c>d.totalPages&&(c=d.totalPages);d.scrollTo=-((d.singleElDim+d.options.elementMargin)*d.options.elementsInPage*(c-1));d.isVertical?(d.scrollTo<-d.elementsDim+d.options.height&&(d.scrollTo=-d.elementsDim+d.options.height),b(d.mbscrollableStrip).animate({marginTop:d.scrollTo},e)):(d.scrollTo<-d.elementsDim+ d.options.width&&(d.scrollTo=-d.elementsDim+d.options.width),b(d.mbscrollableStrip).animate({marginLeft:d.scrollTo},e));d.idx=Math.floor(c);b(d).mbManageControls();b(d).mbStopAutoscroll();d.autoScrollActive=!1}};b.fn.mbScrollable=b.mbScrollable.buildMbScrollable;b.fn.mbNextPage=b.mbScrollable.mbNextPage;b.fn.mbPrevPage=b.mbScrollable.mbPrevPage;b.fn.mbFirstPage=b.mbScrollable.mbFirstPage;b.fn.mbLastPage=b.mbScrollable.mbLastPage;b.fn.mbPageIndex=b.mbScrollable.mbPageIndex;b.fn.mbgotoPage=b.mbScrollable.gotoPage; b.fn.mbAutoscroll=b.mbScrollable.mbAutoscroll;b.fn.mbStopAutoscroll=b.mbScrollable.mbStopAutoscroll;b.fn.mbActivateControls=b.mbScrollable.mbActivateControls;b.fn.mbManageControls=b.mbScrollable.mbManageControls;b.fn.goToPage=b.mbScrollable.goToPage})(jQuery);
}